"use strict";(function a(){function b(a){let b=RegExp(/<([a-z]+)>/),c=RegExp(/<\/[a-z]+>/g);for(;b.test(a);)a=a.replace(b,"<span class=\"result-$1\">");return a=a.replace(c,"</span>"),a}function c(a){return b(a).replaceAll(":number:","00")}if(chrome.runtime.lastError)return console.error(chrome.runtime.lastError.message),void setTimeout(a,100);Array.from(document.getElementsByClassName("btn-close-window")).forEach(a=>{a.addEventListener("click",a=>{a.preventDefault(),window.close("","_parent","")})});const d=document.getElementsByClassName("option-theme");for(let a=0;a<d.length;++a)d[a].addEventListener("change",a=>{Config.save("theme",a.target.value,a=>{applyTheme(null,a)})});Config.load("theme",a=>{d["light"==a?0:1].checked=!0,applyTheme(null,a)});const e=document.getElementsByClassName("option-wide");for(let a=0;a<e.length;++a)e[a].addEventListener("change",a=>{Config.save("wide",!!parseInt(a.target.value),a=>{applyWide(null,a)})});Config.load("wide",a=>{e[a?1:0].checked=!0,applyWide(null,a)});const f=document.getElementsByClassName("option-status-pid");for(let a=0;a<f.length;++a)f[a].addEventListener("change",a=>{Config.save("show-status-pid",!!parseInt(a.target.value))});Config.load("show-status-pid",a=>{f[a?0:1].checked=!0});const g=document.getElementsByClassName("option-status-history");for(let a=0;a<g.length;++a)g[a].addEventListener("change",a=>{Config.save(Constants.CONFIG_SHOW_STATUS_HISTORY,!!parseInt(a.target.value))});Config.load(Constants.CONFIG_SHOW_STATUS_HISTORY,a=>{g[!1===a?1:0].checked=!0});const h=document.getElementsByClassName("option-group-link");for(let a=0;a<h.length;++a)h[a].addEventListener("change",a=>{Config.save(Constants.CONFIG_SHOW_GROUP_LINK,!!parseInt(a.target.value))});Config.load(Constants.CONFIG_SHOW_GROUP_LINK,a=>{h[a?1:0].checked=!0});const j=document.getElementsByClassName("msg-code");for(let a=0;a<j.length;++a)Config.load(j[a].getAttribute("name")+"-code",b=>{b&&(j[a].value=b,document.getElementById(j[a].getAttribute("data-preview")).innerHTML=c(b))}),j[a].addEventListener("input",a=>{const d=a.target.getAttribute("name"),e=a.target.value,f=c(e||a.target.getAttribute("placeholder")),g=a.target.getAttribute("data-preview");document.getElementById(g).innerHTML=f,Config.save(d,b(e)),Config.save(d+"-code",e)})})();