"use strict";function extendVs(){function a(a,b,c){a.forEach(a=>{c?a.setAttribute(b,!0):a.removeAttribute(b)})}Utils.loadCSS("css/user.css");const{pathname:b}=window.location,c=b.substr("/vs/".length).split("/")||[];return 2===c.length?void Config.getProblems(b=>{function d(c){const d=i[c],e=d.cloneNode(),a=b[c]||"*New Problem";return e.style.display="inline",e.style.marginRight="3px",e.style.wordBreak="break-all",e.innerHTML="<span class=\"pid\">"+c+"</span> <span class=\"pname\">"+a+"</span>",e}function e(a,b){const c=Utils.createElement("div",{class:"panel panel-default"}),d=Utils.createElement("div",{class:"panel-heading"}),e=Utils.createElement("div",{class:"panel-body"});return d.innerHTML="<h3 class=\"panel-title\">"+a+"</h3>",b.forEach(a=>e.appendChild(a)),c.appendChild(d),c.appendChild(e),c}function f(a,b){Utils.requestAjax("https://www.acmicpc.net/user/"+a,(a,c)=>{if(c)return alert("\uC874\uC7AC\uD558\uC9C0 \uC54A\uAC70\uB098 \uC798\uBABB\uB41C \uC544\uC774\uB514\uC785\uB2C8\uB2E4."),void window.history.back();const d=new DOMParser().parseFromString(a,"text/html"),e=d.querySelectorAll(".panel"),f=[];for(let b=0;b<e.length;++b){const c=[],d=e[b].querySelector(".panel-title").innerText;e[b].querySelectorAll("a[href^=\"/problem/\"]").forEach(b=>{const a=parseInt(b.href.substr(b.href.lastIndexOf("/")+1));c.push(a),i[a]=b}),f.push({title:d,tags:c})}b(f)})}const g=document.getElementsByClassName("container content")[0];g.innerHTML="";const h=createVsForm(c[0],c[1]);h.style.marginBottom="20px",g.appendChild(h);const i={};f(c[0],async b=>{let i=[],j=[],k=[];await b.forEach(a=>{a.title.startsWith("\uB9DE\uC740")?i=a.tags:(a.title.startsWith("\uB9DE\uC558")&&(j=a.tags),k=a.tags)}),f(c[1],async b=>{let f=[],l=[],m=[];await b.forEach(a=>{a.title.startsWith("\uB9DE\uC740")?f=a.tags:(a.title.startsWith("\uB9DE\uC558")&&(l=a.tags),m=a.tags)});const n=i.filter(a=>f.includes(a)).map(d),o=i.filter(a=>!f.includes(a)).map(d),p=f.filter(a=>!i.includes(a)).map(d),q=j.filter(a=>!f.includes(a)).map(d),r=l.filter(a=>!i.includes(a)).map(d),s=k.filter(a=>m.includes(a)).map(d),t=Utils.createElement("a",{href:"/user/"+c[0]});t.innerText=c[0];const u=Utils.createElement("a",{href:"/user/"+c[1]});u.innerText=c[1];const v=t.outerHTML,w=u.outerHTML,x=[e(v+"\uC640 "+w+" \uBAA8\uB450 \uD47C \uBB38\uC81C",n),e(v+"\uB9CC \uD47C \uBB38\uC81C",o),e(w+"\uB9CC \uD47C \uBB38\uC81C",p),e(v+"\uB9CC \uB9DE\uC558\uC9C0\uB9CC \uB9CC\uC810\uC744 \uBC1B\uC9C0 \uBABB\uD55C \uBB38\uC81C",q),e(w+"\uB9CC \uB9DE\uC558\uC9C0\uB9CC \uB9CC\uC810\uC744 \uBC1B\uC9C0 \uBABB\uD55C \uBB38\uC81C",r),e("\uB458 \uB2E4 \uC2DC\uB3C4\uD588\uC9C0\uB9CC \uB9DE\uC9C0 \uBABB\uD55C \uBB38\uC81C",s)];for(const a of x)g.appendChild(a);const y=document.createElement("div"),z=document.createElement("input");z.setAttribute("type","checkbox"),z.setAttribute("id","show-pid"),z.addEventListener("change",b=>{Config.save("show-pid",b.target.checked),a(x,"show-id",b.target.checked)});const A=document.createElement("input");A.setAttribute("type","checkbox"),z.setAttribute("id","show-pname"),A.addEventListener("change",b=>{Config.save("show-pname",b.target.checked),a(x,"show-name",b.target.checked)});const B=document.createElement("label");B.setAttribute("for","show-pid"),B.innerText="\uBB38\uC81C \uBC88\uD638";const C=document.createElement("label");C.setAttribute("for","show-pname"),C.innerText="\uBB38\uC81C \uC81C\uBAA9",y.setAttribute("class","problem-toggles"),y.appendChild(z),y.appendChild(B),y.appendChild(A),y.appendChild(C),g.insertBefore(y,h),Config.load("show-pid",b=>{b=!(null!==b&&b!==void 0)||b,z.checked=b,a(x,"show-id",b)}),Config.load("show-pname",b=>{A.checked=b,a(x,"show-name",b)})})})}):(alert("\uBE44\uAD50 \uB300\uC0C1\uC740 2\uBA85\uB9CC \uAC00\uB2A5\uD569\uB2C8\uB2E4."),void window.history.back())}